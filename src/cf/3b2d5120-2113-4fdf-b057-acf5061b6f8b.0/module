// Процедура вызова структуры подчиненности документа
Процедура ДействияФормыСтруктураПодчиненностиДокумента(Кнопка)
	РаботаСДиалогами.ПоказатьСтруктуруПодчиненностиДокумента(Ссылка);
КонецПроцедуры

Процедура ТоварыПартияПриИзменении(Элемент)
	СтрокаТабличнойЧасти = ЭлементыФормы.Товары.ТекущиеДанные;
	
	 СтрокаТабличнойЧасти.Продукция = СтрокаТабличнойЧасти.Партия.Продукция;
	 СтрокаТабличнойЧасти.ВидПродукции =  СтрокаТабличнойЧасти.Партия.ВидПродукции;
	 СтрокаТабличнойЧасти.Продукция_Элемент =  СтрокаТабличнойЧасти.Партия.Продукция_Элемент;
	 СтрокаТабличнойЧасти.НаименованиеПродукции =  СтрокаТабличнойЧасти.Партия.НаименованиеПродукции;

КонецПроцедуры

&НаКлиенте
Процедура Отправить(Элемент)
	
	Записать();
	Обработка = ВСД.ИнициализацияОбработки();
	Обработка.Отправить_ВСД_транзакция(Ссылка);
	ЭтаФорма.Закрыть();
   
КонецПроцедуры


Процедура ТоварыПартияНачалоВыбора(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
   	ФормаВыбора =  Справочники.ВСД_Партия.ПолучитьФормуВыбора(, Элемент);
    ФормаВыбора.РежимВыбора = Истина;
    ФормаВыбора.Отбор.Продукция_Элемент.Установить(ЭтаФорма.ТекущийЭлемент.ТекущиеДанные.Продукция_Элемент, Истина);
    ФормаВыбора.Открыть();	
КонецПроцедуры


Процедура Получатель_ПлощадкаНачалоВыбора(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
   	ФормаВыбора =  Справочники.ВСД_Площадка.ПолучитьФормуВыбора(, Элемент);
    ФормаВыбора.РежимВыбора = Истина;
    ФормаВыбора.Отбор.GuidХозСубъекта.Установить(Получатель_ХозСубъект.GUID, Истина);
    ФормаВыбора.Открыть();	
КонецПроцедуры


Процедура кнПолучитьГуидХСНажатие(Элемент)
	ВСД.ПолучитьГуидХозСубъекта(Получатель_ХозСубъект);
КонецПроцедуры

